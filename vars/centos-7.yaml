default_packages: 
    - "@^minimal"

# src: template file
# dest: destination file relative to bootmedia_tmp_dir
# image: if defined mount image and copy template in mounted image location
bootmedia_template_files:
    - {src: templates/isolinux.cfg.j2, dest: isolinux/isolinux.cfg}
    - {src: templates/kickstart.cfg.j2, dest: ks.cfg}
    - {src: templates/grub.cfg.j2, dest: EFI/BOOT/grub.cfg}
    - {src: templates/grub.cfg.j2, image: images/efiboot.img, dest: EFI/BOOT/grub.cfg}

bootmedia_original_media_url: "http://artfiles.org/centos.org/7/isos/x86_64/CentOS-7-x86_64-Minimal-1908.iso"
bootmedia_original_media_version: "7.7-1908"
bootmedia_original_media_filename: "{{ bootmedia_original_media_url|basename }}"
bootmedia_original_content_path: "{{ bootmedia_parent_path }}/{{ (bootmedia_original_media_filename|basename|splitext)[0] }}"

bootmedia_extract_command: >
  bsdtar -xvf "{{ bootmedia_parent_path }}/{{ bootmedia_original_media_filename }}" -C "{{ bootmedia_original_content_path }}"

bootmedia_exclude_files:
  - LiveOS
  - LiveOS/*
  - Packages
  - Packages/*
  - repodata
  - repodata/*
